<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    Titanium VM Manager
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
  <!-- CSS Files -->
  <link href="{{ url_for('static', filename='assets/css/bootstrap.min.css') }}" rel="stylesheet" />
  <link href="{{ url_for('static', filename='assets/css/now-ui-dashboard.css') }}" rel="stylesheet" />
</head>

{% if name != "None" %}
<body class="">
  <div class="wrapper ">
    <div class="sidebar" data-color="red">
      <div class="logo">
        <a class="simple-text logo-mini">
          <i class="now-ui-icons design_vector"></i>
        </a>
        <a class="simple-text logo-normal">
          Titanium
        </a>
      </div>
      <div class="sidebar-wrapper" id="sidebar-wrapper">
        <ul class="nav">
          {% for i in nav %}
            {% if i == name %}
              <li class="active ">
                <a href="{{ url_for('index',name=i) }}">
                  <i class="now-ui-icons design_app"></i>
                  <p>{{ i }}</p>
                </a>
              </li>
            {% else %}
                <li>
                    <a href="{{ url_for('index',name=i) }}">
                      <i class="now-ui-icons design_app"></i>
                      <p>{{ i }}</p>
                    </a>
                </li>
            {% endif %}
          {% endfor %}
        </ul>
      </div>
    </div>
    <div class="main-panel" id="main-panel">
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-transparent  bg-primary  navbar-absolute">
        <div class="container-fluid">
          <div class="navbar-wrapper">
            <div class="navbar-toggle">
              <button type="button" class="navbar-toggler">
                <span class="navbar-toggler-bar bar1"></span>
                <span class="navbar-toggler-bar bar2"></span>
                <span class="navbar-toggler-bar bar3"></span>
              </button>
            </div>
            <a class="navbar-brand" href="{{ url_for('index',name=name) }}">{{ name }}</a>
          </div>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
            
          </button>
          
        </div>
      </nav>
      <!-- End Navbar -->
      <div class="panel-header panel-header-sm">
      </div>
      <div class="content">
        <div class="row">
          <div class="col-lg-4">
            <div class="card card-chart">
              <div class="card-header">
                <h5 class="card-category">VM Control</h5>
                <h4 class="card-title">{{ name }} Controller</h4>
                <div class="dropdown">
                  <a href="{{ url_for('index',name=name) }}" class="btn btn-round btn-outline-default dropdown-toggle btn-simple btn-icon no-caret">
                    <i class="now-ui-icons loader_refresh"></i>
                  </a>
                </div>
              </div>
              <div class="card-body">
                <div class="row">
                    <div class="col-md-8">
                        <a href="{{ url_for('handle',name=name,code='start') }}" class="btn btn-success btn-round text-white">
                          <i class="now-ui-icons sport_user-run"></i> Start
                        </a>
                        <a href="{{ url_for('handle',name=name,code='stop') }}" class="btn btn-danger btn-round text-white">
                          <i class="now-ui-icons education_atom"></i> Stop
                        </a>
                    </div>
                </div>
              </div>
              <div class="card-footer">
                <div class="stats">
                  <i class="now-ui-icons objects_support-17 spin"></i>Machine State: {{ machine_state }}
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="card  card-tasks">
              <div class="card-header ">
                <h5 class="card-category">VM Information</h5>
                <h4 class="card-title">VM Details</h4>
              </div>
              <div class="card-body ">
                <div class="table-full-width table-responsive">
                  <table class="table">
                    <tbody>
                      <tr>
                        <td><i class="now-ui-icons business_bulb-63"></i>&nbsp;<b>Session State:</b> &nbsp;&nbsp;{{ sess_state }}</td>
                      </tr>
                      <tr>
                        <td><i class="now-ui-icons business_globe"></i>&nbsp;<b>Session Type:</b> &nbsp;&nbsp;{{ session_type }}</td>
                      </tr>
                      <tr>
                        <td><i class="now-ui-icons business_bank"></i>&nbsp;<b>Home Folder for VM:</b> &nbsp;&nbsp;{{ home_folder }}</td>
                      </tr>
                      <tr>
                        <td><i class="now-ui-icons design_image"></i>&nbsp;<b>Resolution:</b> &nbsp;&nbsp;{{ h }}x{{ w }}</td>
                      </tr>
                      <tr>
                        <td>
                          <br />
                          <form method="post" action="{{ url_for('index',name=name) }}">     
                              <div class="form-group">
                                  <input type="text" class="form-control" placeholder="Enter Keystroke" name="keystroke"><br />
                                  <button type="submit" class="btn btn-primary">Send</button>
                              </div>   
                            </form>
                        </td>
                      </tr>
                      
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="card-footer ">
                <hr>
                <div class="stats">
                  <i class="now-ui-icons loader_refresh spin"></i> Updated just now
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <footer class="footer">
        <div class=" container-fluid ">
        
        </div>
      </footer>
    </div>
  </div>
  <!--   Core JS Files   -->
  <script src="{{ url_for('static', filename='assets/js/core/jquery.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/core/popper.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/core/bootstrap.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/plugins/perfect-scrollbar.jquery.min.js') }}"></script>
  <!-- Chart JS -->
  <script src="{{ url_for('static', filename='assets/js/plugins/chartjs.min.js') }}"></script>
  <!--  Notifications Plugin    -->
  <script src="{{ url_for('static', filename='assets/js/plugins/bootstrap-notify.js') }}"></script>
  <!-- Control Center for Now Ui Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="{{ url_for('static', filename='assets/js/now-ui-dashboard.min.js') }}" type="text/javascript"></script>
  <script>
    window.$ = window.jQuery = require('jquery');
    $(document).ready(function() {
      // Javascript method's body can be found in assets/js/demos.js
      demo.initDashboardPageCharts();

    });
  </script>
</body>
{% else %}
<body class="">
  <div class="wrapper ">
    <div class="sidebar" data-color="red">
      <div class="logo">
        <a class="simple-text logo-mini">
          <i class="now-ui-icons design_vector"></i>
        </a>
        <a class="simple-text logo-normal">
          Titanium
        </a>
      </div>
      <div class="sidebar-wrapper" id="sidebar-wrapper">
        <ul class="nav">
          <li class="active ">
            <a>
              <i class="now-ui-icons design_app"></i>
              <p>None</p>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="main-panel" id="main-panel">
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-transparent  bg-primary  navbar-absolute">
        <div class="container-fluid">
          <div class="navbar-wrapper">
            <div class="navbar-toggle">
              <button type="button" class="navbar-toggler">
                <span class="navbar-toggler-bar bar1"></span>
                <span class="navbar-toggler-bar bar2"></span>
                <span class="navbar-toggler-bar bar3"></span>
              </button>
            </div>
            <a class="navbar-brand">No VMs</a>
          </div>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
            
          </button>
          
        </div>
      </nav>
      <!-- End Navbar -->
      <div class="panel-header panel-header-sm">
      </div>
      <div class="content">
        <div class="row">
          <div class="col-md-12">
            <div class="card">
              <div class="card-header">
                <h4 class="card-title"> No VMs added yet.</h4>
              </div>
              <div class="card-body">
                
              </div>
            </div>
          </div>
        </div>
      </div>
      <footer class="footer">
        <div class=" container-fluid ">
        
        </div>
      </footer>
    </div>
  </div>
  <!--   Core JS Files   -->
  <script src="{{ url_for('static', filename='assets/js/core/jquery.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/core/popper.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/core/bootstrap.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/plugins/perfect-scrollbar.jquery.min.js') }}"></script>
  <!-- Chart JS -->
  <script src="{{ url_for('static', filename='assets/js/plugins/chartjs.min.js') }}"></script>
  <!--  Notifications Plugin    -->
  <script src="{{ url_for('static', filename='assets/js/plugins/bootstrap-notify.js') }}"></script>
  <!-- Control Center for Now Ui Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="{{ url_for('static', filename='assets/js/now-ui-dashboard.min.js') }}" type="text/javascript"></script>
  <script>
    window.$ = window.jQuery = require('jquery');
    $(document).ready(function() {
      // Javascript method's body can be found in assets/js/demos.js
      demo.initDashboardPageCharts();

    });
  </script>
</body>
{% endif %}

</html>